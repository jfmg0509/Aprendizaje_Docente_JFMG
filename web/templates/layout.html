{{define "layout"}}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>{{.Title}}</title>

  <style>
    :root{
      --bg:#F5F7FB;
      --card:#FFFFFF;
      --title:#2563EB;
      --text:#0F172A;
      --muted:#64748B;
      --border:#E5E7EB;
      --link:#2563EB;
      --shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
      --radius: 18px;
      --radius2: 12px;
    }

    *{ box-sizing:border-box; }
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      font-family: Calibri, "Calibri Light", "Segoe UI", Arial, sans-serif;
      color:var(--text);
    }

    .page{
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    nav{
      position:sticky;
      top:0;
      z-index:10;
      background:rgba(245,247,251,0.86);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
      padding:14px 20px;
    }

    .nav-inner{
      max-width:1100px;
      margin:0 auto;
      display:flex;
      gap:14px;
      align-items:center;
    }

    .nav-inner a{
      color:var(--link);
      text-decoration:none;
      font-weight:600;
      padding:8px 10px;
      border-radius:10px;
    }
    .nav-inner a:hover{
      background:#EAF0FF;
      text-decoration:none;
    }
    .nav-inner .muted{
      margin-left:6px;
      color:var(--muted);
      font-weight:400;
    }

    .container{
      width:100%;
      max-width:1100px;
      margin:0 auto;
      padding:26px 18px 40px;
      flex:1;
    }

    h1{
      margin:0 0 18px 0;
      color:var(--title);
      font-weight:800;
      font-size:44px;
      letter-spacing:0.2px;
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:18px;
    }
    @media (max-width: 920px){
      .grid-2{ grid-template-columns: 1fr; }
    }

    label{
      display:block;
      font-size:14px;
      color:var(--muted);
      margin:10px 0 6px;
      font-weight:600;
    }
    input,select,textarea{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:12px;
      outline:none;
      font-size:15px;
      background:#fff;
    }
    textarea{ min-height:90px; resize:vertical; }

    button{
      margin-top:12px;
      padding:10px 14px;
      border:none;
      border-radius:12px;
      background:var(--title);
      color:#fff;
      font-weight:700;
      cursor:pointer;
    }
    button:hover{ filter:brightness(0.95); }

    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:var(--radius2);
      border:1px solid var(--border);
    }
    th,td{
      padding:10px 10px;
      border-bottom:1px solid var(--border);
      text-align:left;
      font-size:14px;
    }
    th{ background:#F1F5FF; color:#0F172A; }
    tr:last-child td{ border-bottom:none; }

    a{ color:var(--link); text-decoration:none; font-weight:700; }
    a:hover{ text-decoration:underline; }

    .mutedText{ color:var(--muted); font-style:italic; }

    /* HOME centrado */
    .center-wrap{
      min-height:70vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .home-card{
      width:100%;
      max-width:720px;
      text-align:center;
      padding:28px;
    }
    .home-links{
      margin-top:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
    }
    .home-links a{
      display:inline-block;
      width:100%;
      max-width:360px;
      padding:12px 14px;
      background:#F1F5FF;
      border:1px solid #DCE6FF;
      border-radius:14px;
      text-decoration:none;
    }
    .home-links a:hover{
      background:#EAF0FF;
      text-decoration:none;
    }

    footer{
      border-top:1px solid var(--border);
      background:rgba(255,255,255,0.55);
      padding:14px 20px;
    }
    .footer-inner{
      max-width:1100px;
      margin:0 auto;
      display:flex;
      justify-content:space-between;
      gap:12px;
      color:var(--muted);
      font-weight:600;
      font-size:14px;
    }
    @media (max-width: 700px){
      .footer-inner{ flex-direction:column; align-items:flex-start; }
    }
  </style>
</head>

<body>
  <div class="page">

    {{if .ShowNav}}
    <nav>
      <div class="nav-inner">
        <a href="/">Inicio</a>
        <a href="/ui/users">Usuarios</a>
        <a href="/ui/books">Libros</a>
        <a href="/ui/books/search">Buscar</a>
        <span class="muted">| API: /api/*</span>
      </div>
    </nav>
    {{end}}

    <div class="container">
      {{template "content" .}}
    </div>

    <footer>
      <div class="footer-inner">
        <div>{{.FooterLeft}}</div>
        <div>{{.FooterRight}}</div>
      </div>
    </footer>

  </div>
</body>
</html>
{{end}}
